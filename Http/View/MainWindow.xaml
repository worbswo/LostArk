<Window
    x:Class="LostArkAction.View.MainWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:local="clr-namespace:LostArkAction.View"
    xmlns:command="clr-namespace:LostArkAction.Code"
    xmlns:view="clr-namespace:LostArkAction.View"
    mc:Ignorable="d"
    Title="LostArkAblity"
    Height="980"
    Width="800"
    WindowStyle="None"
    ResizeMode="CanMinimize">
    
    <Grid
        Background="#FF424452">

        <Grid.RowDefinitions>
            <RowDefinition
                Height="30"></RowDefinition>
            <RowDefinition
                Height="30"></RowDefinition>

            <RowDefinition
                Height="0.7*"></RowDefinition>
            <RowDefinition
                Height="*"></RowDefinition>
            <RowDefinition
                Height="*"></RowDefinition>

            <RowDefinition
                Height="25"></RowDefinition>
            <RowDefinition
                Height="50"></RowDefinition>
            <RowDefinition
                Height="50"></RowDefinition>
        </Grid.RowDefinitions>
        <Grid.ColumnDefinitions>
            <ColumnDefinition></ColumnDefinition>
            <ColumnDefinition></ColumnDefinition>
            
        </Grid.ColumnDefinitions>
        <Border
            Name="main"
            Grid.ColumnSpan="2"
            BorderThickness="1"
            BorderBrush="Gray"
            Margin="0">
            <DockPanel>
                <!-- Title Bar Area -->
                <Border
                    Name="border"
                    
                    DockPanel.Dock="Top"
                    Height="25">

                    <Grid>
                        <Label
                            VerticalContentAlignment="Center"
                            Margin="10,0,105,0"
                            PreviewMouseMove="System_MouseMove">
                            <TextBlock
                                Foreground="White"
                                FontWeight="UltraBold"
                                Text="{Binding Title, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType={x:Type Window}}}" />
                        </Label>

                        <!-- System Button Area -->
                        <StackPanel
                            Orientation="Horizontal"
                            HorizontalAlignment="Right"
                            Background="#FF424452">
                            <StackPanel.Resources>
                                <Style
                                    TargetType="{x:Type Button}"
                                    x:Key="systemButton">
                                    <Setter
                                        Property="Padding"
                                        Value="0" />
                                    <Setter
                                        Property="Width"
                                        Value="35" />
                                    <Setter
                                        Property="Height"
                                        Value="25" />
                                    <Setter
                                        Property="HorizontalAlignment"
                                        Value="Right" />
                                    <Setter
                                        Property="VerticalAlignment"
                                        Value="Top" />
                                    <Setter
                                        Property="Background"
                                        Value="Transparent" />
                                    <Setter
                                        Property="Template">
                                        <Setter.Value>
                                            <ControlTemplate
                                                TargetType="{x:Type Button}">
                                                <Border
                                                    Background="{TemplateBinding Background}"
                                                    BorderThickness="0">
                                                    <ContentPresenter
                                                        HorizontalAlignment="Center"
                                                        VerticalAlignment="Center" />
                                                </Border>
                                            </ControlTemplate>
                                        </Setter.Value>
                                    </Setter>
                                    <Style.Triggers>
                                        <Trigger
                                            Property="Button.IsMouseOver"
                                            Value="True">
                                            <Setter
                                                Property="Button.Background"
                                                Value="LightGray" />
                                        </Trigger>
                                    </Style.Triggers>

                                </Style>
                            </StackPanel.Resources>

                            <Button
                                Click="Mimimize_Click"
                                Style="{StaticResource systemButton}">
                                <Rectangle
                                    Width="11"
                                    Stroke="White"
                                    StrokeThickness="0.75" />
                            </Button>
                            <Button
                                Click="Close_Click">
                                <Button.Style>
                                    <Style
                                        TargetType="Button"
                                        BasedOn="{StaticResource systemButton}">
                                        <Style.Triggers>
                                            <Trigger
                                                Property="Button.IsMouseOver"
                                                Value="True">
                                                <Setter
                                                    Property="Button.Background"
                                                    Value="Red" />
                                            </Trigger>
                                        </Style.Triggers>
                                    </Style>
                                </Button.Style>
                                <Canvas
                                    Height="25"
                                    Width="35">
                                    <Line
                                        X1="12"
                                        Y1="8"
                                        X2="22"
                                        Y2="18"
                                        Stroke="White"
                                        StrokeThickness="0.75" />
                                    <Line
                                        X1="12"
                                        Y1="18"
                                        X2="22"
                                        Y2="8"
                                        Stroke="White"
                                        StrokeThickness="0.75" />
                                </Canvas>
                            </Button>
                        </StackPanel>
                    </Grid>
                    
                </Border>
                
            </DockPanel>
        </Border>
        <Grid
            Margin="150,0,150,0"
            Grid.Row="1"
            Grid.ColumnSpan="2">
            <Grid.ColumnDefinitions>
                <ColumnDefinition
                    Width="*"></ColumnDefinition>
                <ColumnDefinition
                    Width="0.5*"></ColumnDefinition>
            </Grid.ColumnDefinitions>
            <TextBox
                Margin="2"
                FontSize="17"
                Text="{Binding SetupAblityText}"
                VerticalAlignment="Center"></TextBox>
            <Button
                Margin="2"
                Grid.Column="1"
                FontSize="17"
                FontWeight="Bold"
                Command="{Binding SetupCommand}"
                Content="각인 설정"></Button>
        </Grid>
        <view:TargetAblity
            DataContext="{Binding RelativeSource={RelativeSource AncestorType={x:Type Window},Mode=FindAncestor}}"
            Grid.RowSpan="2"
            Grid.Row="2"></view:TargetAblity>
        <view:EquipAblity
            DataContext="{Binding RelativeSource={RelativeSource AncestorType={x:Type Window},Mode=FindAncestor}}"
            Grid.Column="1"
            Grid.Row="2"
            Grid.RowSpan="2"></view:EquipAblity>

        <view:Accessories
            DataContext="{Binding RelativeSource={RelativeSource AncestorType={x:Type Window},Mode=FindAncestor}}"
            Grid.ColumnSpan="2"
            Grid.Row="4"></view:Accessories>

        <ProgressBar
            Name="searchProgress"
            Grid.Row="5"
            Minimum="0"
            Maximum="100"
            Background="#FF424452"
            BorderThickness="0"
            Grid.ColumnSpan="2"
            Margin="10,2,10,2"
            Value="{Binding SearchProgressValue}"
            Foreground="#FF284E80">
        </ProgressBar>
        <TextBlock
            Grid.Row="5"
            Grid.ColumnSpan="2"
            FontWeight="UltraBold"
            Foreground="White"
            VerticalAlignment="Center"
            HorizontalAlignment="Center"
            Text="{Binding ElementName=searchProgress,Path=Value, StringFormat={}{0:0}%}"></TextBlock>
        <ProgressBar
            Name="progress"
            Grid.Row="6"
            Minimum="0"
            Maximum="100"
            Background="#FF424452"
            BorderThickness="0"
            Grid.ColumnSpan="2"
            Margin="10"
            Value="{Binding ProgressValue}"
            Foreground="#FF036515">
        </ProgressBar>
        <TextBlock
            Grid.Row="6"
            Grid.ColumnSpan="2"
            VerticalAlignment="Center"
            HorizontalAlignment="Center"
            FontWeight="UltraBold"
            Foreground="White"
            Text="{Binding ElementName=progress,Path=Value, StringFormat={}{0:0}%}"></TextBlock>
        <Grid
            Grid.Row="7"
            Grid.ColumnSpan="2"
            Margin="10">
            <Grid.ColumnDefinitions>
                <ColumnDefinition></ColumnDefinition>
                <ColumnDefinition></ColumnDefinition>
                <ColumnDefinition></ColumnDefinition>
                <ColumnDefinition></ColumnDefinition>
                <ColumnDefinition></ColumnDefinition>
                <ColumnDefinition></ColumnDefinition>
            </Grid.ColumnDefinitions>
            <RadioButton
                VerticalAlignment="Stretch"
                VerticalContentAlignment="Center"
                FontSize="20"
                IsChecked="{Binding IsRelic}"
                Foreground="GhostWhite"
                Content="유물"></RadioButton>
            <RadioButton
                Grid.Column="1"
                VerticalAlignment="Stretch"
                VerticalContentAlignment="Center"
                FontSize="20"
                Foreground="GhostWhite"
                IsChecked="{Binding IsAncient}"
                Content="고대"></RadioButton>
            <RadioButton
                Grid.Column="2"
                VerticalAlignment="Stretch"
                VerticalContentAlignment="Center"
                FontSize="20"
                Foreground="GhostWhite"
                IsChecked="{Binding IsAll}"
                Content="전체"></RadioButton>

            <Button
                Content="  검 색  "
                FontWeight="Bold"
                FontSize="20"
                Command="{Binding SearchCommand}"
                HorizontalAlignment="Center"
                IsEnabled="{Binding IsEnableSearchBtn}"
                Grid.Column="5"></Button>
        </Grid>
    </Grid>
</Window>
